import{r,u as x,j as e}from"./index-CRg7Hs4i.js";import{a as m}from"./Api-BdbahxxY.js";import"./index-NIGUFBhG.js";const g=()=>{const[a,n]=r.useState([]),[d,i]=r.useState(!0),[l,c]=r.useState(null),o=x();return r.useEffect(()=>{(async()=>{try{const t=await m.get("/products");if(t.data.status==="success"&&Array.isArray(t.data.data.products))n(t.data.data.products.slice(0,3));else throw new Error("Formato de respuesta de productos inesperado.")}catch(t){console.error("Error fetching featured products:",t),c(t.response?.data?.message||t.message||"Error al cargar los productos destacados.")}finally{i(!1)}})()},[]),d?e.jsx("section",{className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("h2",{className:"text-4xl font-bold text-center text-slate-950 mb-12",children:["TIENDA ",e.jsx("span",{className:"text-red-600",children:"EN LÍNEA"})]}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600",role:"status","aria-label":"Cargando productos"})})]})}):l?e.jsx("section",{className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("h2",{className:"text-4xl font-bold text-center text-slate-950 mb-12",children:["TIENDA ",e.jsx("span",{className:"text-red-600",children:"EN LÍNEA"})]}),e.jsxs("div",{className:"text-center py-12 text-red-500",children:[e.jsxs("p",{children:["Error al cargar los productos: ",l]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Reintentar"})]})]})}):e.jsx("section",{className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("h2",{className:"text-4xl font-bold text-center text-slate-950 mb-12",children:["TIENDA ",e.jsx("span",{className:"text-red-600",children:"EN LÍNEA"})]}),a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:a.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-lg transition-transform hover:scale-105",children:[e.jsx("div",{className:"relative",style:{aspectRatio:"1/1"},children:e.jsx("img",{src:s.featuredImage,alt:s.name,className:"w-full h-full object-contain p-4 bg-white",loading:"lazy",crossOrigin:"anonymous"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-950 mb-2",children:s.name}),e.jsxs("p",{className:"text-2xl font-bold text-red-600 mb-4",children:["$",s.discountPrice?s.discountPrice.toLocaleString("es-CO"):s.price.toLocaleString("es-CO")]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"flex-1 bg-slate-950 hover:bg-green-400 text-white py-2 rounded-full transition duration-300",onClick:()=>alert(`Comprar ${s.name}`),children:"Comprar"}),e.jsx("button",{onClick:()=>o(`/products/${s.slug}`),className:"flex-1 bg-white border border-slate-950 text-slate-950 py-2 rounded-full hover:bg-gray-100 transition duration-300",children:"Detalles"})]})]})]},s._id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs("button",{onClick:()=>o("/products"),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 inline-flex items-center",children:["Ver todos los productos",e.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{children:"No hay productos destacados disponibles en este momento."})})]})})};export{g as default};
//# sourceMappingURL=StoreSection-bJaECmDL.js.map
