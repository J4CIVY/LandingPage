import{r as s,j as e}from"./index-CRg7Hs4i.js";import{a as F}from"./index-NIGUFBhG.js";import{S as L}from"./SEOComponent-BjILGdkq.js";import{t as m,p as c,f as B,e as D}from"./es-DmxkcGcy.js";function M(a,n){const l=m(a),o=m(n);return l.getTime()>o.getTime()}function O(a,n){const l=m(a),o=m(n);return+l<+o}const z=()=>{const[a,n]=s.useState([]),[l,o]=s.useState(!0),[p,h]=s.useState(null),[r,g]=s.useState("upcoming"),[b,N]=s.useState(""),[u,w]=s.useState("all"),[v,E]=s.useState("asc"),x=s.useCallback(async()=>{o(!0),h(null);try{const t=await F.get("https://api.bskmt.com/events");n(t.data.data.events||[])}catch(t){h("Error al cargar los eventos. Intenta nuevamente."),console.error("Error fetching events:",t)}finally{o(!1)}},[]);s.useEffect(()=>{x()},[x]);const f=new Date,C=a.filter(t=>M(c(t.startDate),f)),S=a.filter(t=>O(c(t.startDate),f)),T=["all",...new Set(a.map(t=>t.departureLocation?.city).filter(Boolean))],j=(r==="upcoming"?C:S).filter(t=>{const i=t.name.toLowerCase().includes(b.toLowerCase()),d=u==="all"||t.departureLocation?.city===u;return i&&d}).sort((t,i)=>{const d=c(t.startDate),y=c(i.startDate);return v==="asc"?d.getTime()-y.getTime():y.getTime()-d.getTime()}),k=s.useCallback(t=>{const i=c(t.startDate);return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:t.mainImage||"/default-event-image.webp",alt:t.name,className:"w-full h-full object-cover",loading:"lazy",crossOrigin:"anonymous"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4 text-white",children:e.jsx("p",{className:"text-sm font-medium",children:B(i,"PPPP",{locale:D})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-[#000031] mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.departureLocation?.address," "]}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-[#00FF99]",children:t.eventType==="Ride"?"Rodada":"Evento"}),e.jsx("button",{className:"bg-[#000031] hover:bg-[#00FF99] text-white py-2 px-4 rounded-lg transition","aria-label":`Ver detalles de ${t.name}`,children:"Ver detalles"})]})]})]},t._id)},[]);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(L,{title:"Eventos - BSK Motorcycle Team",description:"Consulta nuestro calendario de eventos. Participa en rodadas, encuentros, y actividades de la comunidad BSK Motorcycle Team."}),e.jsxs("section",{className:"py-16 px-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#000031] mb-4",children:"Eventos BSK Motorcycle Team"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Descubre nuestras próximas aventuras y revive los mejores momentos"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"tablist",children:[e.jsx("button",{onClick:()=>g("upcoming"),className:`px-6 py-2 rounded-l-full border ${r==="upcoming"?"bg-[#000031] text-white border-[#000031]":"bg-white text-[#000031] border-gray-300 hover:bg-gray-100"} transition`,role:"tab","aria-selected":r==="upcoming",id:"tab-upcoming","aria-controls":"panel-upcoming",children:"Próximos Eventos"}),e.jsx("button",{onClick:()=>g("past"),className:`px-6 py-2 rounded-r-full border ${r==="past"?"bg-[#000031] text-white border-[#000031]":"bg-white text-[#000031] border-gray-300 hover:bg-gray-100"} transition`,role:"tab","aria-selected":r==="past",id:"tab-past","aria-controls":"panel-past",children:"Eventos Pasados"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search-event",className:"sr-only",children:"Buscar por nombre de evento"}),e.jsx("input",{type:"text",id:"search-event",placeholder:"Buscar por nombre...",value:b,onChange:t=>N(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000031] focus:border-transparent","aria-label":"Buscar por nombre de evento"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter-location",className:"sr-only",children:"Filtrar por ubicación"}),e.jsx("select",{id:"filter-location",value:u,onChange:t=>w(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000031] focus:border-transparent","aria-label":"Filtrar por ubicación",children:T.map(t=>e.jsx("option",{value:t,children:t==="all"?"Todas las ubicaciones":t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort-order",className:"sr-only",children:"Ordenar eventos"}),e.jsxs("select",{id:"sort-order",value:v,onChange:t=>E(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000031] focus:border-transparent","aria-label":"Ordenar eventos",children:[e.jsx("option",{value:"asc",children:"Más cercanos primero"}),e.jsx("option",{value:"desc",children:"Más lejanos primero"})]})]})]}),e.jsx("div",{role:"tabpanel",id:`panel-${r}`,"aria-labelledby":`tab-${r}`,children:l?e.jsx("div",{className:"flex justify-center items-center h-64","aria-live":"polite",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#FF0000]",role:"status",children:e.jsx("span",{className:"sr-only",children:"Cargando eventos..."})})}):p?e.jsxs("div",{className:"text-center py-10",role:"alert",children:[e.jsx("p",{className:"text-red-500 mb-4",children:p}),e.jsx("button",{onClick:x,className:"bg-[#FF0000] hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Reintentar"})]}):j.length===0?e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No se encontraron eventos con los filtros aplicados"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map(k)})})]})]})};export{z as default};
//# sourceMappingURL=Events-Js2QGZjn.js.map
