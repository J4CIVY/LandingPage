import{r as l,j as e,b as L,d as j,m as w,n as f,o as S,l as q,p as F,c as d,q as C,s as B,t as A,v as P,w as x}from"./index-CRg7Hs4i.js";import{a as K}from"./index-NIGUFBhG.js";import{S as W}from"./SEOComponent-BjILGdkq.js";const G=()=>{const[i,h]=l.useState("emergency"),[n,p]=l.useState(null),[k,E]=l.useState([]),[I,D]=l.useState(null),[t,g]=l.useState({name:"",memberId:"",emergencyType:"mechanical",description:"",location:""}),[N,b]=l.useState(null),o={lat:4.6243335,lng:-74.063644},y=[{id:1,name:"MotoTaller BSK Norte",address:"Calle 123 #45-67, Bogotá",phone:"+57 312 5192001",services:["Mecánica general","Grúa"],location:{lat:4.72,lng:-74.045}},{id:2,name:"Taller Rápido BSK Sur",address:"Carrera 56 #12-34, Bogotá",phone:"+57 312 5192002",services:["Cambio de llantas","Reparación eléctrica"],location:{lat:4.55,lng:-74.12}},{id:3,name:"MotoServicio BSK Centro",address:"Avenida 7 #23-45, Bogotá",phone:"+57 312 5192003",services:["Ajuste de frenos","Afinamiento"],location:{lat:4.6,lng:-74.07}}],u=l.useCallback((a,r)=>{const s=[...y].sort((c,v)=>{const T=Math.sqrt(Math.pow(c.location.lat-a,2)+Math.pow(c.location.lng-r,2)),$=Math.sqrt(Math.pow(v.location.lat-a,2)+Math.pow(v.location.lng-r,2));return T-$});E(s.slice(0,3))},[y]);l.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{const{latitude:r,longitude:s}=a.coords;p({lat:r,lng:s}),g(c=>({...c,location:`Lat: ${r.toFixed(4)}, Lng: ${s.toFixed(4)}`})),u(r,s),b(null)},a=>{console.error("Error obteniendo ubicación:",a),b("No se pudo obtener tu ubicación. Por favor, ingresa la ubicación manualmente."),p(o),u(o.lat,o.lng)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(b("Tu navegador no soporta geolocalización."),p(o),u(o.lat,o.lng))},[u,o]);const M=l.useCallback(async a=>{if(a.preventDefault(),!t.name||!t.memberId||!t.description||!t.location){alert("Por favor, completa todos los campos obligatorios.");return}try{const r=await K.post("https://api.bskmotorcycleteam.com/emergencies",t);console.log("Solicitud enviada con éxito:",r.data),alert("Solicitud enviada. Nos contactaremos contigo pronto."),g({name:"",memberId:"",emergencyType:"mechanical",description:"",location:n?`Lat: ${n.lat.toFixed(4)}, Lng: ${n.lng.toFixed(4)}`:""})}catch(r){console.error("Error enviando solicitud:",r.response?r.response.data:r.message),alert("Error al enviar la solicitud. Por favor, intenta nuevamente.")}},[t,n]),m=l.useCallback(a=>{g({...t,[a.target.name]:a.target.value})},[t]);return e.jsxs("div",{className:"min-h-screen bg-[#ffffff]",children:[e.jsx(W,{title:"SOS Asistencia - BSK Motorcycle Team",description:"Servicio de asistencia en carretera para miembros de BSK Motorcycle Team. Contactos de emergencia, formulario de solicitud y mapa de talleres."}),e.jsx("section",{className:"bg-slate-950 text-white py-16 px-4 md:px-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 flex items-center justify-center",children:[e.jsx(L,{className:"mr-4","aria-hidden":"true"})," SOS BSK"]}),e.jsxs("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto flex items-center justify-center",children:[e.jsx(j,{className:"mr-2","aria-hidden":"true"})," Asistencia inmediata para miembros del club"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-8",children:e.jsxs("div",{className:"flex border-b border-gray-200",role:"tablist",children:[e.jsxs("button",{className:`py-4 px-6 font-medium flex items-center ${i==="emergency"?"text-green-400 border-b-2 border-green-400":"text-gray-500"}`,onClick:()=>h("emergency"),role:"tab","aria-selected":i==="emergency",id:"tab-emergency","aria-controls":"panel-emergency",children:[e.jsx(w,{className:"mr-2","aria-hidden":"true"}),"Contacto de Emergencia"]}),e.jsxs("button",{className:`py-4 px-6 font-medium flex items-center ${i==="form"?"text-green-400 border-b-2 border-green-400":"text-gray-500"}`,onClick:()=>h("form"),role:"tab","aria-selected":i==="form",id:"tab-form","aria-controls":"panel-form",children:[e.jsx(f,{className:"mr-2","aria-hidden":"true"}),"Formulario de Emergencia"]}),e.jsxs("button",{className:`py-4 px-6 font-medium flex items-center ${i==="workshops"?"text-green-400 border-b-2 border-green-400":"text-gray-500"}`,onClick:()=>h("workshops"),role:"tab","aria-selected":i==="workshops",id:"tab-workshops","aria-controls":"panel-workshops",children:[e.jsx(S,{className:"mr-2","aria-hidden":"true"}),"Talleres Asociados"]})]})}),e.jsx("div",{role:"tabpanel",id:"panel-emergency","aria-labelledby":"tab-emergency",hidden:i!=="emergency",children:i==="emergency"&&e.jsxs("div",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-8 flex items-start",role:"alert",children:[e.jsx(q,{className:"text-xl mr-2 mt-0.5","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"¡Importante!"}),e.jsx("p",{children:"Usa estos contactos solo para emergencias reales."})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{type:"Mecánica",icon:e.jsx(C,{className:"text-3xl text-green-400","aria-hidden":"true"}),description:"Asistencia técnica en carretera",contacts:[{method:"WhatsApp",icon:e.jsx(F,{className:"text-xl text-green-500","aria-hidden":"true"}),number:"+57 312 5192000",link:"https://wa.me/573125192000?text=Necesito%20asistencia%20mecánica"},{method:"Llamada",icon:e.jsx(d,{className:"text-xl text-blue-500","aria-hidden":"true"}),number:"+57 312 5192000"}]},{type:"Médica",icon:e.jsx(B,{className:"text-3xl text-red-400","aria-hidden":"true"}),description:"Emergencias médicas y primeros auxilios",contacts:[{method:"Línea de emergencia",icon:e.jsx(w,{className:"text-xl text-red-500","aria-hidden":"true"}),number:"123"},{method:"Asistencia BSK",icon:e.jsx(d,{className:"text-xl text-blue-500","aria-hidden":"true"}),number:"+57 312 5192001"}]},{type:"Seguridad",icon:e.jsx(A,{className:"text-3xl text-blue-400","aria-hidden":"true"}),description:"Emergencias de seguridad y protección",contacts:[{method:"Policía",icon:e.jsx(j,{className:"text-xl text-blue-500","aria-hidden":"true"}),number:"123"},{method:"Seguridad BSK",icon:e.jsx(d,{className:"text-xl text-blue-500","aria-hidden":"true"}),number:"+57 312 5192002"}]}].map((a,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[a.icon,e.jsx("h2",{className:"text-2xl font-bold text-slate-950 ml-3",children:a.type})]}),e.jsx("p",{className:"text-gray-700 mb-6",children:a.description}),e.jsx("div",{className:"space-y-4",children:a.contacts.map((s,c)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[s.icon,e.jsx("span",{className:"font-semibold ml-2",children:s.method})]}),e.jsx("p",{className:"text-gray-800 mb-3",children:s.number}),s.link?e.jsxs("a",{href:s.link,className:"inline-flex items-center bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition",target:"_blank",rel:"noopener noreferrer","aria-label":`Contactar por WhatsApp para ${a.type}`,children:[e.jsx(F,{className:"mr-2","aria-hidden":"true"}),"Contactar por WhatsApp"]}):e.jsxs("a",{href:`tel:${s.number.replace(/\s/g,"")}`,className:"inline-flex items-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition","aria-label":`Llamar a ${a.type} al número ${s.number}`,children:[e.jsx(d,{className:"mr-2","aria-hidden":"true"}),"Llamar ahora"]})]},c))})]},r))})]})}),e.jsx("div",{role:"tabpanel",id:"panel-form","aria-labelledby":"tab-form",hidden:i!=="form",children:i==="form"&&e.jsx("div",{className:"py-12 px-4 md:px-8 max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 md:p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-950 mb-6 flex items-center",children:[e.jsx(f,{className:"mr-2 text-green-400","aria-hidden":"true"}),"Formulario de Emergencia"]}),e.jsxs("form",{onSubmit:M,"aria-label":"Formulario de Solicitud de Emergencia",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"full-name",className:"block text-gray-700 mb-2 flex items-center",children:[e.jsx(P,{className:"mr-2 text-gray-500","aria-hidden":"true"}),"Nombre Completo"]}),e.jsx("input",{type:"text",id:"full-name",name:"name",value:t.name,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",required:!0,"aria-required":"true"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"member-id",className:"block text-gray-700 mb-2 flex items-center",children:[e.jsx(A,{className:"mr-2 text-gray-500","aria-hidden":"true"}),"Número de Socio BSK"]}),e.jsx("input",{type:"text",id:"member-id",name:"memberId",value:t.memberId,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",required:!0,"aria-required":"true"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"emergency-type",className:"block text-gray-700 mb-2 flex items-center",children:[e.jsx(j,{className:"mr-2 text-gray-500","aria-hidden":"true"}),"Tipo de Emergencia"]}),e.jsxs("select",{id:"emergency-type",name:"emergencyType",value:t.emergencyType,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",required:!0,"aria-required":"true",children:[e.jsx("option",{value:"mechanical",children:"Mecánica/Asistencia en carretera"}),e.jsx("option",{value:"medical",children:"Emergencia Médica"}),e.jsx("option",{value:"security",children:"Emergencia de Seguridad"}),e.jsx("option",{value:"other",children:"Otro"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 mb-2",children:"Descripción"}),e.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",rows:4,required:!0,"aria-required":"true"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"location",className:"block text-gray-700 mb-2 flex items-center",children:[e.jsx(x,{className:"mr-2 text-gray-500","aria-hidden":"true"}),"Ubicación"]}),n?e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(x,{className:"text-red-500 mr-2","aria-hidden":"true"}),e.jsxs("span",{className:"text-sm",children:["Detectada: ",n.lat.toFixed(4),", ",n.lng.toFixed(4)]})]}):N?e.jsx("p",{className:"text-red-500 mb-2",role:"alert",children:N}):e.jsx("p",{className:"text-gray-500 mb-2",children:"Cargando ubicación..."}),e.jsx("input",{type:"text",id:"location",name:"location",value:t.location,onChange:m,placeholder:"Describe tu ubicación (ciudad, dirección, puntos de referencia)",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",required:!0,"aria-required":"true"})]}),e.jsxs("button",{type:"submit",className:"bg-slate-950 text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition flex items-center justify-center",children:[e.jsx(f,{className:"mr-2","aria-hidden":"true"}),"Enviar Solicitud"]})]})]})})}),e.jsx("div",{role:"tabpanel",id:"panel-workshops","aria-labelledby":"tab-workshops",hidden:i!=="workshops",children:i==="workshops"&&e.jsxs("div",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-950 mb-6 flex items-center",children:[e.jsx(S,{className:"mr-2 text-green-400","aria-hidden":"true"}),"Talleres Asociados"]}),e.jsxs("div",{className:"mb-8 bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-950 mb-4 flex items-center",children:[e.jsx(x,{className:"text-red-500 mr-2","aria-hidden":"true"}),"Talleres más cercanos a tu ubicación"]}),e.jsxs("div",{className:"text-center py-10 bg-gray-100 rounded-lg",children:[e.jsx("p",{className:"text-red-500",children:"La clave de la API de Google Maps no está configurada. El mapa no se mostrará."}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Por favor, configura `GOOGLE_MAPS_API_KEY` en tu entorno."})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:k.map(a=>e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-950 mb-2",children:a.name}),e.jsxs("p",{className:"text-gray-600 mb-4 flex items-center",children:[e.jsx(x,{className:"mr-2 text-red-500","aria-hidden":"true"}),a.address]}),e.jsxs("p",{className:"text-gray-600 mb-4 flex items-center",children:[e.jsx(d,{className:"mr-2 text-blue-500","aria-hidden":"true"}),a.phone]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx(C,{className:"mr-2 text-green-500","aria-hidden":"true"}),"Servicios:"]}),e.jsx("ul",{className:"list-disc pl-5",children:a.services.map((r,s)=>e.jsx("li",{className:"text-gray-600",children:r},s))})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("a",{href:`tel:${a.phone.replace(/\s/g,"")}`,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-600 transition","aria-label":`Llamar a ${a.name}`,children:[e.jsx(d,{className:"mr-2","aria-hidden":"true"}),"Llamar"]}),e.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${a.location.lat},${a.location.lng}`,target:"_blank",rel:"noopener noreferrer",className:"bg-slate-950 text-white px-4 py-2 rounded-lg flex items-center hover:bg-opacity-90 transition","aria-label":`Cómo llegar a ${a.name}`,children:[e.jsx(x,{className:"mr-2","aria-hidden":"true"}),"Cómo llegar"]})]})]})},a.id))})]})})]})};export{G as default};
//# sourceMappingURL=Sos-Bx7Y9LiR.js.map
